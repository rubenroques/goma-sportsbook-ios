{
  "class_name": "SportRadarPrivilegedAccessManager",
  "description": "A manager class that handles privileged access operations for the Sportradar provider, including user authentication, profile management, and various account-related functionalities.",
  "protocols": ["PrivilegedAccessManager"],
  "properties": {
    "connector": {
      "type": "OmegaConnector",
      "description": "Handles API connections and requests"
    },
    "userSessionStatePublisher": {
      "type": "AnyPublisher<UserSessionStatus, Error>",
      "description": "Publishes user session state updates"
    },
    "userProfilePublisher": {
      "type": "AnyPublisher<UserProfile?, Error>",
      "description": "Publishes user profile updates"
    },
    "hasSecurityQuestions": {
      "type": "Bool",
      "description": "Indicates if the user has security questions set up"
    },
    "sessionCoordinator": {
      "type": "SportRadarSessionCoordinator",
      "description": "Coordinates session management and token handling",
      "access": "private"
    }
  },
  "api_methods": {
    "authentication": {
      "login": {
        "endpoint": "/ps/ips/login",
        "method": "POST",
        "signature": "func login(username: String, password: String) -> AnyPublisher<UserProfile, ServiceProviderError>",
        "description": "Authenticates a user with username and password",
        "parameters": {
          "username": {
            "type": "String",
            "description": "User's login username"
          },
          "password": {
            "type": "String",
            "description": "User's login password"
          }
        },
        "response": {
          "success": {
            "type": "UserProfile",
            "description": "User profile information upon successful login"
          },
          "error_cases": [
            {
              "code": "FAIL_UN_PW",
              "error": "invalidEmailPassword",
              "description": "Invalid username or password combination"
            },
            {
              "code": "FAIL_QUICK_OPEN_STATUS",
              "error": "quickSignUpIncomplete",
              "description": "Quick signup process is not complete"
            }
          ]
        }
      },
      "logout": {
        "endpoint": "/ps/ips/logout",
        "method": "GET",
        "signature": "func logout() -> AnyPublisher<BasicResponse, ServiceProviderError>",
        "description": "Logs out the current user and invalidates their session",
        "parameters": {},
        "response": {
          "success": {
            "type": "BasicResponse",
            "description": "Basic response indicating successful logout"
          },
          "status_code": "SUCCESS"
        }
      },
      "getPasswordPolicy": {
        "endpoint": "/ps/ips/getPasswordPolicy",
        "method": "GET",
        "signature": "func getPasswordPolicy() -> AnyPublisher<PasswordPolicy, ServiceProviderError>",
        "description": "Retrieves the password policy requirements",
        "parameters": {},
        "response": {
          "success": {
            "type": "PasswordPolicy",
            "description": "Password policy requirements and constraints"
          },
          "status_code": "SUCCESS"
        }
      }
    },
    "profile": {
      "getUserProfile": {
        "endpoint": "/ps/ips/getPlayerInfo",
        "method": "GET",
        "signature": "func getUserProfile(withKycExpire kycExpire: String?) -> AnyPublisher<UserProfile, ServiceProviderError>",
        "description": "Retrieves the user's profile information",
        "parameters": {
          "kycExpire": {
            "type": "String?",
            "description": "Optional KYC expiration date"
          }
        },
        "response": {
          "success": {
            "type": "UserProfile",
            "description": "Complete user profile information"
          },
          "status_code": "SUCCESS"
        }
      }
    },
    "registration": {
      "checkEmailRegistered": {
        "endpoint": "/ps/ips/checkCredential",
        "method": "GET",
        "signature": "func checkEmailRegistered(_ email: String) -> AnyPublisher<Bool, ServiceProviderError>",
        "description": "Checks if an email is already registered in the system",
        "parameters": {
          "email": {
            "type": "String",
            "description": "Email address to check"
          }
        },
        "response": {
          "success": {
            "type": "Bool",
            "description": "true if email exists, false otherwise"
          },
          "mapping": {
            "exists": "true/false"
          }
        }
      },
      "validateUsername": {
        "endpoint": "/ps/ips/getUserIdSuggestion",
        "method": "GET",
        "signature": "func validateUsername(_ username: String) -> AnyPublisher<UsernameValidation, ServiceProviderError>",
        "description": "Validates a username and provides suggestions if unavailable",
        "parameters": {
          "username": {
            "type": "String",
            "description": "Username to validate"
          }
        },
        "response": {
          "success": {
            "type": "UsernameValidation",
            "description": "Username validation result with availability and suggestions"
          },
          "status_codes": [
            {
              "code": "SUCCESS",
              "description": "Username is taken, suggestions provided"
            },
            {
              "code": "USERNAME_AVAILABLE",
              "description": "Username is available"
            }
          ]
        }
      },
      "simpleSignUp": {
        "endpoint": "/ps/ips/quickSignup",
        "method": "POST",
        "signature": "func simpleSignUp(form: SimpleSignUpForm) -> AnyPublisher<Bool, ServiceProviderError>",
        "description": "Registers a new user with basic information",
        "parameters": {
          "form": {
            "type": "SimpleSignUpForm",
            "fields": {
              "email": "String",
              "username": "String",
              "password": "String",
              "birthDate": "String",
              "mobilePrefix": "String",
              "mobileNumber": "String",
              "countryIsoCode": "String",
              "currencyCode": "String"
            }
          }
        },
        "response": {
          "success": {
            "type": "Bool",
            "description": "Registration success status"
          },
          "error_cases": [
            {
              "field": "username",
              "error": "invalidSignUpUsername"
            },
            {
              "field": "email",
              "error": "invalidSignUpEmail"
            },
            {
              "field": "password",
              "error": "invalidSignUpPassword"
            }
          ]
        }
      },
      "signUp": {
        "endpoint": "/ps/ips/signup",
        "method": "POST",
        "signature": "func signUp(form: SignUpForm) -> AnyPublisher<SignUpResponse, ServiceProviderError>",
        "description": "Registers a new user with complete information",
        "parameters": {
          "form": {
            "type": "SignUpForm",
            "fields": {
              "email": "String",
              "username": "String",
              "password": "String",
              "birthDate": "String",
              "mobilePrefix": "String",
              "mobileNumber": "String",
              "nationalityIso2Code": "String",
              "currencyCode": "String",
              "firstName": "String",
              "lastName": "String",
              "middleName": "String?",
              "gender": "String",
              "address": "String",
              "city": "String",
              "postalCode": "String",
              "countryIso2Code": "String",
              "bonusCode": "String?",
              "receiveMarketingEmails": "Bool",
              "avatarName": "String?",
              "godfatherCode": "String?",
              "birthDepartment": "String?",
              "birthCity": "String?",
              "birthCountry": "String?",
              "streetNumber": "String?",
              "consentedIds": "[Int]?",
              "unconsentedIds": "[Int]?",
              "mobileVerificationRequestId": "String?"
            }
          }
        },
        "response": {
          "success": {
            "type": "SignUpResponse",
            "description": "Detailed signup response with success status and any errors"
          },
          "status_codes": [
            {
              "code": "SUCCESS",
              "description": "Registration successful"
            },
            {
              "code": "BONUSPLAN_NOT_FOUND",
              "description": "Registration successful but bonus not found"
            }
          ]
        }
      },
      "signUpCompletion": {
        "signature": "func signUpCompletion(form: UpdateUserProfileForm) -> AnyPublisher<Bool, ServiceProviderError>",
        "description": "Completes the signup process with additional user information",
        "parameters": {
          "form": "Form containing additional user information"
        },
        "returns": "Publisher that emits completion success status"
      },
      "signupConfirmation": {
        "endpoint": "/ps/ips/signupConfirmation",
        "method": "POST",
        "signature": "func signupConfirmation(_ email: String, confirmationCode: String) -> AnyPublisher<Bool, ServiceProviderError>",
        "description": "Confirms user signup with verification code",
        "parameters": {
          "email": {
            "type": "String",
            "description": "Email address used for registration"
          },
          "confirmationCode": {
            "type": "String",
            "description": "Verification code received by user"
          }
        },
        "response": {
          "success": {
            "type": "Bool",
            "description": "Confirmation success status"
          },
          "status_code": "SUCCESS"
        }
      }
    },
    "account_management": {
      "updateUserProfile": {
        "endpoint": "/ps/ips/updatePlayerInfo",
        "method": "POST",
        "signature": "func updateUserProfile(form: UpdateUserProfileForm) -> AnyPublisher<Bool, ServiceProviderError>",
        "description": "Updates the user's profile information",
        "parameters": {
          "form": {
            "type": "UpdateUserProfileForm",
            "fields": {
              "username": "String?",
              "email": "String?",
              "firstName": "String?",
              "lastName": "String?",
              "birthDate": "String?",
              "gender": "String?",
              "address": "String?",
              "province": "String?",
              "city": "String?",
              "postalCode": "String?",
              "country": "Country?",
              "cardId": "String?"
            }
          }
        },
        "response": {
          "success": {
            "type": "Bool",
            "description": "Update success status"
          },
          "status_code": "SUCCESS"
        }
      },
      "updateExtraInfo": {
        "endpoint": "/ps/ips/updateExtraInfo",
        "method": "POST",
        "signature": "func updateExtraInfo(placeOfBirth: String?, address2: String?) -> AnyPublisher<BasicResponse, ServiceProviderError>",
        "description": "Updates additional user information",
        "parameters": {
          "placeOfBirth": {
            "type": "String?",
            "description": "User's place of birth"
          },
          "address2": {
            "type": "String?",
            "description": "Secondary address"
          }
        },
        "response": {
          "success": {
            "type": "BasicResponse",
            "description": "Basic response with success status"
          },
          "status_code": "SUCCESS"
        }
      },
      "updateDeviceIdentifier": {
        "endpoint": "/ps/ips/updateExtraInfo",
        "method": "POST",
        "signature": "func updateDeviceIdentifier(deviceIdentifier: String, appVersion: String) -> AnyPublisher<BasicResponse, ServiceProviderError>",
        "description": "Updates the device identifier and app version for the user",
        "parameters": {
          "deviceIdentifier": {
            "type": "String",
            "description": "Unique device identifier"
          },
          "appVersion": {
            "type": "String",
            "description": "Current app version"
          }
        },
        "response": {
          "success": {
            "type": "BasicResponse",
            "description": "Basic response with success status"
          },
          "status_code": "SUCCESS"
        }
      },
      "getMobileVerificationCode": {
        "endpoint": "/ps/ips/verify",
        "method": "GET",
        "signature": "func getMobileVerificationCode(forMobileNumber mobileNumber: String) -> AnyPublisher<MobileVerifyResponse, ServiceProviderError>",
        "description": "Requests a verification code for a mobile number",
        "parameters": {
          "mobileNumber": {
            "type": "String",
            "description": "Mobile number to verify"
          }
        },
        "response": {
          "success": {
            "type": "MobileVerifyResponse",
            "description": "Response containing verification request details"
          }
        }
      },
      "verifyMobileCode": {
        "endpoint": "/ps/ips/verify",
        "method": "GET",
        "signature": "func verifyMobileCode(code: String, requestId: String) -> AnyPublisher<MobileVerifyResponse, ServiceProviderError>",
        "description": "Verifies a mobile verification code",
        "parameters": {
          "code": {
            "type": "String",
            "description": "Verification code received by user"
          },
          "requestId": {
            "type": "String",
            "description": "ID of the verification request"
          }
        },
        "response": {
          "success": {
            "type": "MobileVerifyResponse",
            "description": "Response indicating verification success or failure"
          }
        }
      },
      "forgotPassword": {
        "endpoint": "/ps/ips/forgotPasswordStep1And2",
        "method": "POST",
        "signature": "func forgotPassword(email: String, secretQuestion: String?, secretAnswer: String?) -> AnyPublisher<Bool, ServiceProviderError>",
        "description": "Initiates the password recovery process",
        "parameters": {
          "email": {
            "type": "String",
            "description": "Email address for password recovery"
          },
          "secretQuestion": {
            "type": "String?",
            "description": "Optional security question"
          },
          "secretAnswer": {
            "type": "String?",
            "description": "Optional answer to security question"
          }
        },
        "response": {
          "success": {
            "type": "Bool",
            "description": "Password recovery initiation success status"
          }
        }
      },
      "updatePassword": {
        "endpoint": "/ps/ips/updatePassword",
        "method": "POST",
        "signature": "func updatePassword(oldPassword: String, newPassword: String) -> AnyPublisher<Bool, ServiceProviderError>",
        "description": "Updates the user's password",
        "parameters": {
          "oldPassword": {
            "type": "String",
            "description": "Current password for verification"
          },
          "newPassword": {
            "type": "String",
            "description": "New password to set"
          }
        },
        "response": {
          "success": {
            "type": "Bool",
            "description": "Password update success status"
          }
        }
      }
    },
    "responsible_gaming": {
      "updateWeeklyDepositLimits": {
        "endpoint": "/ps/ips/setPersonalDepositLimits",
        "method": "GET",
        "signature": "func updateWeeklyDepositLimits(newLimit: Double) -> AnyPublisher<Bool, ServiceProviderError>",
        "description": "Updates the user's weekly deposit limits",
        "parameters": {
          "newLimit": {
            "type": "Double",
            "description": "New weekly deposit limit amount"
          }
        },
        "response": {
          "success": {
            "type": "Bool",
            "description": "Limit update success status"
          }
        }
      },
      "updateWeeklyBettingLimits": {
        "endpoint": "/ps/ips/updateWagerLimit",
        "method": "GET",
        "signature": "func updateWeeklyBettingLimits(newLimit: Double) -> AnyPublisher<Bool, ServiceProviderError>",
        "description": "Updates the user's weekly betting limits",
        "parameters": {
          "newLimit": {
            "type": "Double",
            "description": "New weekly betting limit amount"
          }
        },
        "response": {
          "success": {
            "type": "Bool",
            "description": "Limit update success status"
          }
        }
      },
      "updateResponsibleGamingLimits": {
        "endpoint": "/ps/ips/updateResponsibleGamingLimit",
        "method": "GET",
        "signature": "func updateResponsibleGamingLimits(newLimit: Double, limitType: String, hasRollingWeeklyLimits: Bool) -> AnyPublisher<Bool, ServiceProviderError>",
        "description": "Updates the user's responsible gaming limits",
        "parameters": {
          "newLimit": {
            "type": "Double",
            "description": "New limit amount"
          },
          "limitType": {
            "type": "String",
            "description": "Type of limit (deposit, betting, or autoPayout)"
          },
          "hasRollingWeeklyLimits": {
            "type": "Bool",
            "description": "Whether to use rolling weekly limits instead of calendar weekly limits"
          }
        },
        "response": {
          "success": {
            "type": "Bool",
            "description": "Limit update success status"
          }
        }
      },
      "getPersonalDepositLimits": {
        "endpoint": "/ps/ips/getPersonalDepositLimits",
        "method": "GET",
        "signature": "func getPersonalDepositLimits() -> AnyPublisher<PersonalDepositLimitResponse, ServiceProviderError>",
        "description": "Retrieves the user's personal deposit limits",
        "parameters": {},
        "response": {
          "success": {
            "type": "PersonalDepositLimitResponse",
            "description": "User's personal deposit limit information"
          },
          "status_code": "SUCCESS"
        }
      },
      "getLimits": {
        "endpoint": "/ps/ips/getLimits",
        "method": "GET",
        "signature": "func getLimits() -> AnyPublisher<LimitsResponse, ServiceProviderError>",
        "description": "Retrieves all user limits information",
        "parameters": {},
        "response": {
          "success": {
            "type": "LimitsResponse",
            "description": "Complete user limits information"
          },
          "status_code": "SUCCESS"
        }
      },
      "getResponsibleGamingLimits": {
        "endpoint": "/ps/ips/getResponsibleGamingLimit",
        "method": "GET",
        "signature": "func getResponsibleGamingLimits(periodTypes: String?, limitTypes: String?) -> AnyPublisher<ResponsibleGamingLimitsResponse, ServiceProviderError>",
        "description": "Retrieves responsible gaming limits for specified period and limit types",
        "parameters": {
          "periodTypes": {
            "type": "String?",
            "description": "Comma-separated list of period types (e.g., 'RollingWeekly,Permanent')"
          },
          "limitTypes": {
            "type": "String?",
            "description": "Comma-separated list of limit types (e.g., 'DEPOSIT_LIMIT,WAGER_LIMIT,BALANCE_LIMIT')"
          }
        },
        "response": {
          "success": {
            "type": "ResponsibleGamingLimitsResponse",
            "description": "Responsible gaming limits information"
          },
          "status_code": "SUCCESS"
        }
      },
      "lockPlayer": {
        "endpoint": "/ps/ips/lockPlayer",
        "method": "POST",
        "signature": "func lockPlayer(isPermanent: Bool?, lockPeriodUnit: String?, lockPeriod: String?) -> AnyPublisher<BasicResponse, ServiceProviderError>",
        "description": "Locks a player's account with specified duration",
        "parameters": {
          "isPermanent": {
            "type": "Bool?",
            "description": "Whether the lock is permanent"
          },
          "lockPeriodUnit": {
            "type": "String?",
            "description": "Unit of time for the lock period"
          },
          "lockPeriod": {
            "type": "String?",
            "description": "Duration of the lock period"
          }
        },
        "response": {
          "success": {
            "type": "BasicResponse",
            "description": "Basic response with lock status"
          },
          "status_code": "SUCCESS"
        }
      }
    },
    "account_restrictions": {
      "lockPlayer": {
        "endpoint": "/ps/ips/lockPlayer",
        "method": "POST",
        "signature": "func lockPlayer(isPermanent: Bool?, lockPeriodUnit: String?, lockPeriod: String?) -> AnyPublisher<BasicResponse, ServiceProviderError>",
        "description": "Locks a player's account with specified duration",
        "parameters": {
          "isPermanent": {
            "type": "Bool?",
            "description": "Whether the lock is permanent"
          },
          "lockPeriodUnit": {
            "type": "String?",
            "description": "Unit of time for the lock period"
          },
          "lockPeriod": {
            "type": "String?",
            "description": "Duration of the lock period"
          }
        },
        "response": {
          "success": {
            "type": "BasicResponse",
            "description": "Basic response with lock status"
          },
          "status_code": "SUCCESS"
        }
      }
    },
    "documents": {
      "getDocumentTypes": {
        "endpoint": "/ps/ips/getDocumentTypes",
        "method": "GET",
        "signature": "func getDocumentTypes() -> AnyPublisher<DocumentTypesResponse, ServiceProviderError>",
        "description": "Retrieves available document types for verification",
        "parameters": {},
        "response": {
          "success": {
            "type": "DocumentTypesResponse",
            "description": "List of available document types"
          },
          "status_code": "SUCCESS"
        }
      },
      "getUserDocuments": {
        "endpoint": "/ps/ips/getUserDocuments",
        "method": "GET",
        "signature": "func getUserDocuments() -> AnyPublisher<UserDocumentsResponse, ServiceProviderError>",
        "description": "Retrieves user's uploaded documents",
        "parameters": {},
        "response": {
          "success": {
            "type": "UserDocumentsResponse",
            "description": "List of user's uploaded documents"
          },
          "status_code": "SUCCESS"
        }
      },
      "uploadUserDocument": {
        "endpoint": "/ps/ips/uploadUserDocument",
        "method": "POST",
        "signature": "func uploadUserDocument(documentType: String, file: Data, fileName: String) -> AnyPublisher<UploadDocumentResponse, ServiceProviderError>",
        "description": "Uploads a single user verification document",
        "parameters": {
          "documentType": {
            "type": "String",
            "description": "Type of document being uploaded"
          },
          "file": {
            "type": "Data",
            "description": "Document file data"
          },
          "fileName": {
            "type": "String",
            "description": "Name of the file being uploaded"
          }
        },
        "response": {
          "success": {
            "type": "UploadDocumentResponse",
            "description": "Upload response with status"
          },
          "status_code": "SUCCESS"
        }
      },
      "uploadMultipleUserDocuments": {
        "endpoint": "/ps/ips/uploadMultiUserDocument",
        "method": "POST",
        "signature": "func uploadMultipleUserDocuments(documentType: String, files: [String: Data]) -> AnyPublisher<UploadDocumentResponse, ServiceProviderError>",
        "description": "Uploads multiple user verification documents",
        "parameters": {
          "documentType": {
            "type": "String",
            "description": "Type of documents being uploaded"
          },
          "files": {
            "type": "[String: Data]",
            "description": "Dictionary of filename to file data pairs"
          }
        },
        "response": {
          "success": {
            "type": "UploadDocumentResponse",
            "description": "Upload response with status"
          },
          "status_code": "SUCCESS"
        }
      }
    },
    "wallet": {
      "getUserBalance": {
        "endpoint": "/ps/ips/getBalance",
        "method": "GET",
        "signature": "func getUserBalance() -> AnyPublisher<UserWallet, ServiceProviderError>",
        "description": "Retrieves the user's wallet balance information",
        "parameters": {},
        "response": {
          "success": {
            "type": "UserWallet",
            "description": "User's wallet balance information"
          },
          "status_code": "SUCCESS"
        }
      },
      "getUserCashbackBalance": {
        "endpoint": "/ps/ips/getSportRadarReportedCashbackBalance",
        "method": "GET",
        "signature": "func getUserCashbackBalance() -> AnyPublisher<CashbackBalance, ServiceProviderError>",
        "description": "Retrieves the user's cashback balance information",
        "parameters": {},
        "response": {
          "success": {
            "type": "CashbackBalance",
            "description": "User's cashback balance information"
          },
          "status_code": "SUCCESS"
        }
      }
    },
    "location": {
      "getAllCountries": {
        "signature": "func getAllCountries() -> AnyPublisher<[Country], ServiceProviderError>",
        "description": "Retrieves all available countries",
        "parameters": {},
        "returns": "Publisher that emits array of countries"
      },
      "getCountries": {
        "endpoint": "/ps/ips/getCountries",
        "method": "GET",
        "signature": "func getCountries() -> AnyPublisher<[Country], ServiceProviderError>",
        "description": "Retrieves list of available countries",
        "parameters": {},
        "response": {
          "success": {
            "type": "[Country]",
            "description": "Array of available countries"
          },
          "status_code": "SUCCESS"
        }
      },
      "getCurrentCountry": {
        "endpoint": "/ps/ips/getCountryInfo",
        "method": "GET",
        "signature": "func getCurrentCountry() -> AnyPublisher<Country?, ServiceProviderError>",
        "description": "Retrieves the current country information",
        "parameters": {},
        "response": {
          "success": {
            "type": "Country?",
            "description": "Current country information if available"
          },
          "status_code": "SUCCESS"
        }
      }
    },
    "payments": {
      "getPayments": {
        "endpoint": "/ps/ips/getDepositMethods",
        "method": "GET",
        "signature": "func getPayments() -> AnyPublisher<SimplePaymentMethodsResponse, ServiceProviderError>",
        "description": "Retrieves available payment methods for deposits",
        "parameters": {},
        "response": {
          "success": {
            "type": "SimplePaymentMethodsResponse",
            "description": "List of available payment methods"
          },
          "status_code": "SUCCESS"
        }
      },
      "processDeposit": {
        "endpoint": "/ps/ips/processDeposit",
        "method": "POST",
        "signature": "func processDeposit(paymentMethod: String, amount: Double, option: String) -> AnyPublisher<ProcessDepositResponse, ServiceProviderError>",
        "description": "Processes a deposit request",
        "parameters": {
          "paymentMethod": {
            "type": "String",
            "description": "Selected payment method"
          },
          "amount": {
            "type": "Double",
            "description": "Deposit amount"
          },
          "option": {
            "type": "String",
            "description": "Payment option details"
          }
        },
        "response": {
          "success": {
            "type": "ProcessDepositResponse",
            "description": "Deposit processing response"
          },
          "status_code": "SUCCESS"
        }
      },
      "updatePayment": {
        "endpoint": "/ps/ips/updatePayment",
        "method": "POST",
        "signature": "func updatePayment(amount: Double, paymentId: String, type: String, returnUrl: String?, nameOnCard: String?, encryptedExpiryYear: String?, encryptedExpiryMonth: String?, encryptedSecurityCode: String?, encryptedCardNumber: String?) -> AnyPublisher<UpdatePaymentResponse, ServiceProviderError>",
        "description": "Updates payment information for an existing payment",
        "parameters": {
          "amount": {
            "type": "Double",
            "description": "Payment amount"
          },
          "paymentId": {
            "type": "String",
            "description": "ID of the payment to update"
          },
          "type": {
            "type": "String",
            "description": "Payment type"
          },
          "returnUrl": {
            "type": "String?",
            "description": "URL to return to after payment processing"
          },
          "nameOnCard": {
            "type": "String?",
            "description": "Name as it appears on the card"
          },
          "encryptedExpiryYear": {
            "type": "String?",
            "description": "Encrypted card expiry year"
          },
          "encryptedExpiryMonth": {
            "type": "String?",
            "description": "Encrypted card expiry month"
          },
          "encryptedSecurityCode": {
            "type": "String?",
            "description": "Encrypted card security code"
          },
          "encryptedCardNumber": {
            "type": "String?",
            "description": "Encrypted card number"
          }
        },
        "response": {
          "success": {
            "type": "UpdatePaymentResponse",
            "description": "Payment update response"
          },
          "status_code": "SUCCESS"
        }
      },
      "cancelDeposit": {
        "endpoint": "/ps/ips/cancelDeposit",
        "method": "GET",
        "signature": "func cancelDeposit(paymentId: String) -> AnyPublisher<BasicResponse, ServiceProviderError>",
        "description": "Cancels a pending deposit transaction",
        "parameters": {
          "paymentId": {
            "type": "String",
            "description": "ID of the deposit payment to cancel"
          }
        },
        "response": {
          "success": {
            "type": "BasicResponse",
            "description": "Basic response with cancellation status"
          },
          "status_code": "SUCCESS"
        }
      },
      "checkPaymentStatus": {
        "endpoint": "/ps/ips/checkPaymentStatus",
        "method": "GET",
        "signature": "func checkPaymentStatus(paymentMethod: String, paymentId: String) -> AnyPublisher<PaymentStatusResponse, ServiceProviderError>",
        "description": "Checks the status of a payment transaction",
        "parameters": {
          "paymentMethod": {
            "type": "String",
            "description": "Payment method used for the transaction"
          },
          "paymentId": {
            "type": "String",
            "description": "ID of the payment to check"
          }
        },
        "response": {
          "success": {
            "type": "PaymentStatusResponse",
            "description": "Payment status information"
          },
          "status_code": "SUCCESS"
        }
      },
      "getWithdrawalMethods": {
        "endpoint": "/ps/ips/getWithdrawalMethods",
        "method": "GET",
        "signature": "func getWithdrawalMethods() -> AnyPublisher<[WithdrawalMethod], ServiceProviderError>",
        "description": "Retrieves available withdrawal methods",
        "parameters": {},
        "response": {
          "success": {
            "type": "[WithdrawalMethod]",
            "description": "Array of available withdrawal methods"
          },
          "status_code": "SUCCESS"
        }
      },
      "processWithdrawal": {
        "endpoint": "/ps/ips/processWithdrawal",
        "method": "POST",
        "signature": "func processWithdrawal(paymentMethod: String, amount: Double, conversionId: String?) -> AnyPublisher<ProcessWithdrawalResponse, ServiceProviderError>",
        "description": "Processes a withdrawal request",
        "parameters": {
          "paymentMethod": {
            "type": "String",
            "description": "Selected withdrawal method"
          },
          "amount": {
            "type": "Double",
            "description": "Withdrawal amount"
          },
          "conversionId": {
            "type": "String?",
            "description": "Optional conversion ID for currency conversion"
          }
        },
        "response": {
          "success": {
            "type": "ProcessWithdrawalResponse",
            "description": "Withdrawal processing response"
          },
          "status_code": "SUCCESS"
        }
      },
      "prepareWithdrawal": {
        "endpoint": "/ps/ips/prepareWithdrawal",
        "method": "POST",
        "signature": "func prepareWithdrawal(paymentMethod: String) -> AnyPublisher<PrepareWithdrawalResponse, ServiceProviderError>",
        "description": "Prepares a withdrawal request for processing",
        "parameters": {
          "paymentMethod": {
            "type": "String",
            "description": "Selected withdrawal method"
          }
        },
        "response": {
          "success": {
            "type": "PrepareWithdrawalResponse",
            "description": "Withdrawal preparation response"
          },
          "status_code": "SUCCESS"
        }
      },
      "getPendingWithdrawals": {
        "endpoint": "/ps/ips/getPendingWithdrawals",
        "method": "GET",
        "signature": "func getPendingWithdrawals() -> AnyPublisher<[PendingWithdrawal], ServiceProviderError>",
        "description": "Retrieves list of pending withdrawal transactions",
        "parameters": {},
        "response": {
          "success": {
            "type": "[PendingWithdrawal]",
            "description": "Array of pending withdrawal transactions"
          },
          "status_code": "SUCCESS"
        }
      },
      "cancelWithdrawal": {
        "endpoint": "/ps/ips/cancelWithdrawal",
        "method": "POST",
        "signature": "func cancelWithdrawal(paymentId: Int) -> AnyPublisher<CancelWithdrawalResponse, ServiceProviderError>",
        "description": "Cancels a pending withdrawal transaction",
        "parameters": {
          "paymentId": {
            "type": "Int",
            "description": "ID of the withdrawal payment to cancel"
          }
        },
        "response": {
          "success": {
            "type": "CancelWithdrawalResponse",
            "description": "Withdrawal cancellation response"
          },
          "status_code": "SUCCESS"
        }
      },
      "getPaymentInformation": {
        "endpoint": "/ps/ips/getPaymentInformation",
        "method": "GET",
        "signature": "func getPaymentInformation() -> AnyPublisher<PaymentInformation, ServiceProviderError>",
        "description": "Retrieves saved payment information for the user",
        "parameters": {},
        "response": {
          "success": {
            "type": "PaymentInformation",
            "description": "User's saved payment information"
          },
          "status_code": "SUCCESS"
        }
      },
      "addPaymentInformation": {
        "endpoint": "/ps/ips/addPaymentInformation",
        "method": "POST",
        "signature": "func addPaymentInformation(type: String, fields: String) -> AnyPublisher<AddPaymentInformationResponse, ServiceProviderError>",
        "description": "Adds new payment information for the user",
        "parameters": {
          "type": {
            "type": "String",
            "description": "Type of payment information"
          },
          "fields": {
            "type": "String",
            "description": "Payment information fields in string format"
          }
        },
        "response": {
          "success": {
            "type": "AddPaymentInformationResponse",
            "description": "Response for adding payment information"
          },
          "status_code": "SUCCESS"
        }
      },
      "getTransactionsHistory": {
        "endpoint": "/ps/ips/getTransactionHistoryByCurrency",
        "method": "GET",
        "signature": "func getTransactionsHistory(startDate: String, endDate: String, transactionTypes: [TransactionType]?, pageNumber: Int?) -> AnyPublisher<[TransactionDetail], ServiceProviderError>",
        "description": "Retrieves transaction history for a specified date range",
        "parameters": {
          "startDate": {
            "type": "String",
            "description": "Start date for transaction history"
          },
          "endDate": {
            "type": "String",
            "description": "End date for transaction history"
          },
          "transactionTypes": {
            "type": "[TransactionType]?",
            "description": "Optional array of transaction types to filter"
          },
          "pageNumber": {
            "type": "Int?",
            "description": "Optional page number for pagination"
          }
        },
        "response": {
          "success": {
            "type": "[TransactionDetail]",
            "description": "Array of transaction details"
          },
          "status_code": "SUCCESS"
        }
      }
    },
    "bonuses": {
      "getGrantedBonuses": {
        "endpoint": "/ps/ips/getBonuses",
        "method": "GET",
        "signature": "func getGrantedBonuses() -> AnyPublisher<[GrantedBonus], ServiceProviderError>",
        "description": "Retrieves the list of bonuses that have been granted to the user",
        "parameters": {},
        "response": {
          "success": {
            "type": "[GrantedBonus]",
            "description": "Array of granted bonuses with their details including status, amount, and expiry"
          },
          "status_code": "SUCCESS"
        }
      },
      "redeemBonus": {
        "endpoint": "/ps/ips/redeemBonus",
        "method": "POST",
        "signature": "func redeemBonus(code: String) -> AnyPublisher<RedeemBonusResponse, ServiceProviderError>",
        "description": "Redeems a bonus using a bonus code",
        "parameters": {
          "code": {
            "type": "String",
            "description": "The bonus code to redeem"
          }
        },
        "response": {
          "success": {
            "type": "RedeemBonusResponse",
            "description": "Response containing the redeemed bonus details"
          },
          "error_cases": [
            {
              "code": "BONUSPLAN_NOT_FOUND",
              "description": "Invalid bonus code provided"
            }
          ]
        }
      },
      "getAvailableBonuses": {
        "endpoint": "/ps/ips/getEligibleOptInBonusPlans",
        "method": "GET",
        "signature": "func getAvailableBonuses() -> AnyPublisher<[AvailableBonus], ServiceProviderError>",
        "description": "Retrieves the list of bonuses available for the user to claim",
        "parameters": {},
        "response": {
          "success": {
            "type": "[AvailableBonus]",
            "description": "Array of available bonuses that can be claimed"
          },
          "status_code": "SUCCESS"
        }
      },
      "redeemAvailableBonus": {
        "endpoint": "/ps/ips/optInBonus",
        "method": "POST",
        "signature": "func redeemAvailableBonus(partyId: String, code: String) -> AnyPublisher<BasicResponse, ServiceProviderError>",
        "description": "Claims an available bonus for a specific user",
        "parameters": {
          "partyId": {
            "type": "String",
            "description": "User's party identifier"
          },
          "code": {
            "type": "String",
            "description": "The bonus code to redeem"
          }
        },
        "response": {
          "success": {
            "type": "BasicResponse",
            "description": "Basic response indicating success or failure"
          },
          "error_cases": [
            {
              "code": "BONUSPLAN_NOT_FOUND",
              "description": "Invalid bonus code provided"
            }
          ]
        }
      },
      "cancelBonus": {
        "endpoint": "/ps/ips/cancelBonus",
        "method": "POST",
        "signature": "func cancelBonus(bonusId: String) -> AnyPublisher<BasicResponse, ServiceProviderError>",
        "description": "Cancels an active bonus",
        "parameters": {
          "bonusId": {
            "type": "String",
            "description": "ID of the bonus to cancel"
          }
        },
        "response": {
          "success": {
            "type": "BasicResponse",
            "description": "Basic response indicating success or failure of the cancellation"
          },
          "status_code": "SUCCESS"
        }
      },
      "optOutBonus": {
        "endpoint": "/ps/ips/optOutBonus",
        "method": "POST",
        "signature": "func optOutBonus(partyId: String, code: String) -> AnyPublisher<BasicResponse, ServiceProviderError>",
        "description": "Opts out from a specific bonus",
        "parameters": {
          "partyId": {
            "type": "String",
            "description": "User's party identifier"
          },
          "code": {
            "type": "String",
            "description": "The bonus code to opt out from"
          }
        },
        "response": {
          "success": {
            "type": "BasicResponse",
            "description": "Basic response indicating success or failure of the opt-out"
          },
          "status_code": "SUCCESS"
        }
      }
    },
    "support": {
      "contactUs": {
        "endpoint": "/ps/ips/contactus",
        "method": "POST",
        "signature": "func contactUs(firstName: String, lastName: String, email: String, subject: String, message: String) -> AnyPublisher<BasicResponse, ServiceProviderError>",
        "description": "Sends a contact request to customer support",
        "parameters": {
          "firstName": {
            "type": "String",
            "description": "User's first name"
          },
          "lastName": {
            "type": "String",
            "description": "User's last name"
          },
          "email": {
            "type": "String",
            "description": "User's email address"
          },
          "subject": {
            "type": "String",
            "description": "Subject of the contact request"
          },
          "message": {
            "type": "String",
            "description": "Message content"
          }
        },
        "response": {
          "success": {
            "type": "BasicResponse",
            "description": "Basic response indicating success or failure of the contact request"
          },
          "status_code": "SUCCESS"
        }
      },
      "contactSupport": {
        "endpoint": "/api/v2/requests",
        "method": "POST",
        "signature": "func contactSupport(userIdentifier: String, firstName: String, lastName: String, email: String, subject: String, subjectType: String, message: String, isLogged: Bool) -> AnyPublisher<SupportResponse, ServiceProviderError>",
        "description": "Sends a detailed support request with user information",
        "parameters": {
          "userIdentifier": {
            "type": "String",
            "description": "User's unique identifier"
          },
          "firstName": {
            "type": "String",
            "description": "User's first name"
          },
          "lastName": {
            "type": "String",
            "description": "User's last name"
          },
          "email": {
            "type": "String",
            "description": "User's email address"
          },
          "subject": {
            "type": "String",
            "description": "Subject of the support request"
          },
          "subjectType": {
            "type": "String",
            "description": "Category or type of the support request"
          },
          "message": {
            "type": "String",
            "description": "Detailed message content"
          },
          "isLogged": {
            "type": "Bool",
            "description": "Whether the user is currently logged in"
          }
        },
        "response": {
          "success": {
            "type": "SupportResponse",
            "description": "Response containing the status of the support request submission"
          },
          "error_cases": [
            {
              "code": "errorMessage",
              "description": "Error message if the request fails"
            }
          ]
        }
      }
    },
    "consent_management": {
      "getAllConsents": {
        "endpoint": "/ps/ips/consents",
        "method": "GET",
        "signature": "func getAllConsents() -> AnyPublisher<[ConsentInfo], ServiceProviderError>",
        "description": "Retrieves all available consent types and their information",
        "parameters": {},
        "response": {
          "success": {
            "type": "[ConsentInfo]",
            "description": "Array of consent information including mandatory and optional consents"
          },
          "status_code": "SUCCESS"
        }
      },
      "getUserConsents": {
        "endpoint": "/ps/ips/user/consents",
        "method": "GET",
        "signature": "func getUserConsents() -> AnyPublisher<[UserConsent], ServiceProviderError>",
        "description": "Retrieves the user's current consent statuses",
        "parameters": {},
        "response": {
          "success": {
            "type": "[UserConsent]",
            "description": "Array of user consents with their current status"
          },
          "status_code": "SUCCESS"
        }
      },
      "setUserConsents": {
        "endpoint": "/ps/ips/user/consents/save",
        "method": "POST",
        "signature": "func setUserConsents(consentVersionIds: [Int]?, unconsenVersionIds: [Int]?) -> AnyPublisher<BasicResponse, ServiceProviderError>",
        "description": "Updates user consent statuses for specified consent versions",
        "parameters": {
          "consentVersionIds": {
            "type": "[Int]?",
            "description": "Array of consent version IDs to consent to"
          },
          "unconsenVersionIds": {
            "type": "[Int]?",
            "description": "Array of consent version IDs to revoke consent from"
          }
        },
        "response": {
          "success": {
            "type": "BasicResponse",
            "description": "Basic response indicating success or failure of consent update"
          },
          "status_code": "SUCCESS"
        }
      }
    },
    "identity_verification": {
      "getSumsubAccessToken": {
        "endpoint": "/resources/accessTokens",
        "method": "POST",
        "signature": "func getSumsubAccessToken(userId: String, levelName: String) -> AnyPublisher<AccessTokenResponse, ServiceProviderError>",
        "description": "Retrieves an access token for Sumsub identity verification service",
        "parameters": {
          "userId": {
            "type": "String",
            "description": "User's unique identifier"
          },
          "levelName": {
            "type": "String",
            "description": "Verification level name"
          }
        },
        "response": {
          "success": {
            "type": "AccessTokenResponse",
            "description": "Response containing the Sumsub access token"
          }
        }
      },
      "getSumsubApplicantData": {
        "endpoint": "/resources/applicants/-;externalUserId={userId}/one",
        "method": "GET",
        "signature": "func getSumsubApplicantData(userId: String) -> AnyPublisher<ApplicantDataResponse, ServiceProviderError>",
        "description": "Retrieves applicant verification data from Sumsub",
        "parameters": {
          "userId": {
            "type": "String",
            "description": "User's unique identifier"
          }
        },
        "response": {
          "success": {
            "type": "ApplicantDataResponse",
            "description": "Detailed applicant verification data"
          }
        }
      },
      "generateDocumentTypeToken": {
        "endpoint": "/ps/ips/generateToken",
        "method": "GET",
        "signature": "func generateDocumentTypeToken(docType: String) -> AnyPublisher<AccessTokenResponse, ServiceProviderError>",
        "description": "Generates a token for uploading a specific type of document",
        "parameters": {
          "docType": {
            "type": "String",
            "description": "Type of document to generate token for"
          }
        },
        "response": {
          "success": {
            "type": "AccessTokenResponse",
            "description": "Response containing the document upload token"
          }
        }
      },
      "checkDocumentationData": {
        "endpoint": "/ps/ips/checkDocumentation",
        "method": "GET",
        "signature": "func checkDocumentationData() -> AnyPublisher<ApplicantDataResponse, ServiceProviderError>",
        "description": "Checks the status of user's submitted documentation",
        "parameters": {},
        "response": {
          "success": {
            "type": "ApplicantDataResponse",
            "description": "Current status of user's documentation verification"
          }
        }
      }
    },
    "referral": {
      "getReferralLink": {
        "endpoint": "/ps/ips/getReferralLinks",
        "method": "GET",
        "signature": "func getReferralLink() -> AnyPublisher<ReferralLink, ServiceProviderError>",
        "description": "Retrieves the user's referral link",
        "parameters": {},
        "response": {
          "success": {
            "type": "ReferralLink",
            "description": "User's unique referral link information"
          },
          "status_code": "SUCCESS"
        }
      },
      "getReferees": {
        "endpoint": "/ps/ips/getReferees",
        "method": "GET",
        "signature": "func getReferees() -> AnyPublisher<[Referee], ServiceProviderError>",
        "description": "Retrieves the list of users referred by the current user",
        "parameters": {},
        "response": {
          "success": {
            "type": "[Referee]",
            "description": "Array of referred users and their status"
          },
          "status_code": "SUCCESS"
        }
      }
    }
  },
  "error_handling": {
    "error_types": [
      "invalidEmailPassword",
      "quickSignUpIncomplete",
      "invalidResponse",
      "invalidSignUpUsername",
      "invalidSignUpEmail",
      "invalidSignUpPassword",
      "errorMessage",
      "errorDetailedMessage"
    ],
    "description": "Uses ServiceProviderError enum for error handling with specific error cases for different scenarios"
  },
  "dependencies": [
    "Foundation",
    "Combine",
    "SharedModels",
    "CryptoKit"
  ]
}